<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agents (Server-Side) - A2UI 文档</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 800px; margin: 0 auto; color: #24292e; }
        h1, h2, h3 { color: #24292e; margin-top: 24px; margin-bottom: 16px; }
        h1 { border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        code { background-color: #f6f8fa; padding: 0.2em 0.4em; border-radius: 3px; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace; font-size: 85%; }
        pre { background-color: #f6f8fa; padding: 16px; border-radius: 6px; overflow-x: auto; line-height: 1.45; }
        pre code { background-color: transparent; padding: 0; font-size: 100%; }
        a { color: #0366d6; text-decoration: none; }
        a:hover { text-decoration: underline; }
        ul { padding-left: 2em; }
        li { margin-top: 0.25em; }
    </style>
</head>
<body>

<h1>代理 (Server-Side Agents)</h1>

<p>代理（Agents）是响应用户请求生成 A2UI 消息的服务端程序。</p>

<p>实际的组件渲染由 <a href="renderers.html">渲染器 (Renderer)</a> 完成，这发生在消息被 <a href="transports.html">传输 (Transported)</a> 到客户端之后。
代理仅负责生成 A2UI 消息。</p>

<h2>代理如何工作</h2>

<pre><code>User Input → Agent Logic → LLM → A2UI JSON → Send to Client
</code></pre>

<ol>
<li><strong>接收</strong> 用户消息</li>
<li>使用 LLM（Gemini, GPT, Claude 等）进行 <strong>处理</strong></li>
<li><strong>生成</strong> A2UI JSON 消息作为结构化输出</li>
<li>通过传输层 <strong>发送</strong> 到客户端</li>
</ol>

<p>来自客户端的用户交互可以被视为新的用户输入。</p>

<h2>示例代理 (Sample Agents)</h2>

<p>A2UI 仓库包含了一些您可以学习的示例代理：</p>

<ul>
<li><a href="https://github.com/google/A2UI/tree/main/samples/agent/adk/restaurant_finder">Restaurant Finder (餐厅查找器)</a>
<ul>
<li>带有表单的餐桌预订功能</li>
<li>使用 ADK 编写</li>
</ul></li>
<li><a href="https://github.com/google/A2UI/tree/main/samples/agent/adk/contact_lookup">Contact Lookup (联系人查找)</a>
<ul>
<li>带结果列表的搜索功能</li>
<li>使用 ADK 编写</li>
</ul></li>
<li><a href="https://github.com/google/A2UI/tree/main/samples/agent/adk/rizzcharts">Rizzcharts</a>
<ul>
<li>A2UI 自定义组件演示</li>
<li>使用 ADK 编写</li>
</ul></li>
<li><a href="https://github.com/google/A2UI/tree/main/samples/agent/adk/orchestrator">Orchestrator (编排器)</a>
<ul>
<li>传递来自远程子代理的 A2UI 消息</li>
<li>使用 ADK 编写</li>
</ul></li>
</ul>

<h2>使用 A2A 的不同类型的代理</h2>

<h3>1. 面向用户的代理 (独立)</h3>

<p>面向用户的代理是指用户直接与之交互的代理。</p>

<h3>2. 面向用户的代理作为远程代理的宿主</h3>

<p>这是一种模式，其中面向用户的代理作为一个或多个远程代理的宿主。面向用户的代理将调用远程代理，远程代理将生成 A2UI 消息。这是 <a href="https://a2a-protocol.org">A2A</a> 中的常见模式，即客户端代理调用服务端代理。</p>

<ul>
<li>面向用户的代理可以“透传” A2UI 消息而不做修改</li>
<li>面向用户的代理也可以在这个消息发送给客户端之前对其进行修改</li>
</ul>

<h3>3. 远程代理</h3>

<p>远程代理不是用户界面直接的一部分。相反，它被注册为远程代理，并可以被面向用户的代理调用。这也是 <a href="https://a2a-protocol.org">A2A</a> 中的常见模式，即客户端代理调用服务端代理。</p>

</body>
</html>
