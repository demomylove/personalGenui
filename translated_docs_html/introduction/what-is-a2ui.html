<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is A2UI? - A2UI 文档</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 800px; margin: 0 auto; color: #24292e; }
        h1, h2, h3 { color: #24292e; margin-top: 24px; margin-bottom: 16px; }
        h1 { border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        code { background-color: #f6f8fa; padding: 0.2em 0.4em; border-radius: 3px; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace; font-size: 85%; }
        pre { background-color: #f6f8fa; padding: 16px; border-radius: 6px; overflow-x: auto; line-height: 1.45; }
        pre code { background-color: transparent; padding: 0; font-size: 100%; }
        a { color: #0366d6; text-decoration: none; }
        a:hover { text-decoration: underline; }
        ul { padding-left: 2em; }
        li { margin-top: 0.25em; }
    </style>
</head>
<body>

<h1>什么是 A2UI? (What is A2UI?)</h1>

<p><strong>A2UI (Agent to UI) 是用于代理驱动界面的声明式 UI 协议。</strong> AI 代理生成丰富的、交互式的 UI，这些 UI 可以在跨平台（Web, 移动端, 桌面端）上原生渲染，无需执行任意代码。</p>

<h2>问题 (The Problem)</h2>

<p><strong>纯文本代理交互效率低下：</strong></p>

<pre><code>User: "Book a table for 2 tomorrow at 7pm"
Agent: "Okay, for what day?"
User: "Tomorrow"
Agent: "What time?"
...
</code></pre>

<p><strong>更好：</strong> 代理生成一个包含日期选择器、时间选择器和提交按钮的表单。用户与 UI 交互，而不是文本。</p>

<h2>挑战 (The Challenge)</h2>

<p>在多代理系统中，代理通常远程运行（不同的服务器、组织）。它们不能直接操作您的 UI——它们必须发送消息。</p>

<p><strong>传统方法：</strong> 在 iframes 中发送 HTML/JavaScript</p>

<ul>
<li>繁重，视觉上不连贯</li>
<li>安全性复杂</li>
<li>不匹配应用程序样式</li>
</ul>

<p><strong>需求：</strong> 传输像数据一样安全，像代码一样具有表现力的 UI。</p>

<h2>解决方案 (The Solution)</h2>

<p>A2UI: 描述 UI 的 JSON 消息：</p>

<ul>
<li>LLM 生成结构化输出</li>
<li>通过任何传输方式 (A2A, AG UI, SSE, WebSockets) 传输</li>
<li>客户端使用其自己的原生组件进行渲染</li>
</ul>

<p><strong>结果：</strong> 客户端控制安全性和样式，代理生成的 UI 感觉是原生的。</p>

<h3>示例</h3>

<pre><code class="language-json">{"surfaceUpdate": {"surfaceId": "booking", "components": [
  {"id": "title", "component": {"Text": {"text": {"literalString": "Book Your Table"}, "usageHint": "h1"}}},
  {"id": "datetime", "component": {"DateTimeInput": {"value": {"path": "/booking/date"}, "enableDate": true}}},
  {"id": "submit-text", "component": {"Text": {"text": {"literalString": "Confirm"}}}},
  {"id": "submit-btn", "component": {"Button": {"child": "submit-text", "action": {"name": "confirm_booking"}}}}
]}}
</code></pre>

<pre><code class="language-json">{"dataModelUpdate": {"surfaceId": "booking", "contents": [
  {"key": "booking", "valueMap": [{"key": "date", "valueString": "2025-12-16T19:00:00Z"}]}
]}}
</code></pre>

<pre><code class="language-json">{"beginRendering": {"surfaceId": "booking", "root": "title"}}
</code></pre>

<p>客户端将这些消息渲染为原生组件 (Angular, Flutter, React 等)。</p>

<h2>核心价值 (Core Value)</h2>

<p><strong>1. 安全性：</strong> 声明式数据，而不是代码。代理从客户端的受信任目录请求组件。无代码执行风险。</p>

<p><strong>2. 原生感：</strong> 无 iframes。客户端使用自己的 UI 框架进行渲染。继承应用程序的样式、无障碍性和性能。</p>

<p><strong>3. 可移植性：</strong> 一个代理响应随处可用。相同的 JSON 在 Web (Lit/Angular/React)、移动端 (Flutter/SwiftUI/Jetpack Compose) 和桌面端上渲染。</p>

<h2>设计原则 (Design Principles)</h2>

<p><strong>1. LLM 友好：</strong> 带有 ID 引用的扁平组件列表。易于增量生成、纠正错误、流式传输。</p>

<p><strong>2. 框架无关：</strong> 代理发送抽象组件树。客户端映射到原生小部件 (web/mobile/desktop)。</p>

<p><strong>3. 关注点分离：</strong> 三层——UI 结构、应用程序状态、客户端渲染。启用数据绑定、响应式更新、清晰的架构。</p>

<h2>A2UI 不是什么 (What A2UI Is NOT)</h2>

<ul>
<li>不是一个框架（它是一个协议）</li>
<li>不是 HTML 的替代品（用于代理生成的 UI，而不是静态站点）</li>
<li>不是一个强大的样式系统（客户端控制样式，仅支持有限的服务器端样式）</li>
<li>不仅限于 Web（适用于移动端和桌面端）</li>
</ul>

<h2>关键概念 (Key Concepts)</h2>

<ul>
<li><strong>Surface</strong>: 组件的画布（对话框、侧边栏、主视图）</li>
<li><strong>Component</strong>: UI 元素 (Button, TextField, Card 等)</li>
<li><strong>Data Model</strong>: 应用程序状态，组件绑定到它</li>
<li><strong>Catalog</strong>: 可用的组件类型</li>
<li><strong>Message</strong>: JSON 对象 (<code>surfaceUpdate</code>, <code>dataModelUpdate</code>, <code>beginRendering</code> 等)</li>
</ul>

<p>有关类似项目的比较，请参阅 <a href="agent-ui-ecosystem.html">Agent UI 生态系统</a>。</p>

</body>
</html>
